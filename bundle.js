(function () {
  'use strict';

  const format = d3.format(',d');
  const width = 932;
  const radius = width / 6;

  const arc = d3
    .arc()
    .startAngle((d) => d.x0)
    .endAngle((d) => d.x1)
    .padAngle((d) =>
      Math.min((d.x1 - d.x0) / 2, 0.005)
    )
    .padRadius(radius * 1.5)
    .innerRadius((d) => d.y0 * radius)
    .outerRadius((d) =>
      Math.max(d.y0 * radius, d.y1 * radius - 1)
    );

  const partition = (data) => {
    const root = d3
      .hierarchy(data)
      .sum((d) => d.size)
      .sort((a, b) => b.value - a.value);
    return d3
      .partition()
      .size([2 * Math.PI, root.height + 1])(root);
  };

  const { require } = new observablehq.Library();

  require()('@observablehq/flare').then((data) => {
    console.log(data);
    const root = partition(data);
    const color = d3
      .scaleOrdinal()
      .range(
        d3.quantize(
          d3.interpolateRainbow,
          data.children.length + 1
        )
      );

    root.each((d) => (d.current = d));

    const svg = d3
      .select('#partitionSVG')
      .style('width', '100%')
      .style('height', 'auto')
      .style('font', '10px sans-serif');

    const g = svg
      .append('g')
      .attr(
        'transform',
        `translate(${width / 2},${width / 2})`
      );

    const path = g
      .append('g')
      .selectAll('path')
      .data(root.descendants().slice(1))
      .join('path')
      .attr('fill', (d) => {
        while (d.depth > 1) d = d.parent;
        return color(d.data.name);
      })
      .attr('fill-opacity', (d) =>
        arcVisible(d.current)
          ? d.children
            ? 0.6
            : 0.4
          : 0
      )
      .attr('d', (d) => arc(d.current));

    path
      .filter((d) => d.children)
      .style('cursor', 'pointer')
      .on('click', clicked);

    path.append('title').text(
      (d) =>
        `${d
        .ancestors()
        .map((d) => d.data.name)
        .reverse()
        .join('/')}\n${format(d.value)}`
    );

    const label = g
      .append('g')
      .attr('pointer-events', 'none')
      .attr('text-anchor', 'middle')
      .style('user-select', 'none')
      .selectAll('text')
      .data(root.descendants().slice(1))
      .join('text')
      .attr('dy', '0.35em')
      .attr(
        'fill-opacity',
        (d) => +labelVisible(d.current)
      )
      .attr('transform', (d) =>
        labelTransform(d.current)
      )
      .text((d) => d.data.name);

    const parent = g
      .append('circle')
      .datum(root)
      .attr('r', radius)
      .attr('fill', 'none')
      .attr('pointer-events', 'all')
      .on('click', clicked);

    function clicked(p) {
      parent.datum(p.parent || root);

      root.each(
        (d) =>
          (d.target = {
            x0:
              Math.max(
                0,
                Math.min(
                  1,
                  (d.x0 - p.x0) / (p.x1 - p.x0)
                )
              ) *
              2 *
              Math.PI,
            x1:
              Math.max(
                0,
                Math.min(
                  1,
                  (d.x1 - p.x0) / (p.x1 - p.x0)
                )
              ) *
              2 *
              Math.PI,
            y0: Math.max(0, d.y0 - p.depth),
            y1: Math.max(0, d.y1 - p.depth),
          })
      );

      const t = g.transition().duration(750);

      // Transition the data on all arcs, even the ones that arenâ€™t visible,
      // so that if this transition is interrupted, entering arcs will start
      // the next transition from the desired position.
      path
        .transition(t)
        .tween('data', (d) => {
          const i = d3.interpolate(
            d.current,
            d.target
          );
          return (t) => (d.current = i(t));
        })
        .filter(function (d) {
          return (
            +this.getAttribute('fill-opacity') ||
            arcVisible(d.target)
          );
        })
        .attr('fill-opacity', (d) =>
          arcVisible(d.target)
            ? d.children
              ? 0.6
              : 0.4
            : 0
        )
        .attrTween('d', (d) => () =>
          arc(d.current)
        );

      label
        .filter(function (d) {
          return (
            +this.getAttribute('fill-opacity') ||
            labelVisible(d.target)
          );
        })
        .transition(t)
        .attr(
          'fill-opacity',
          (d) => +labelVisible(d.target)
        )
        .attrTween('transform', (d) => () =>
          labelTransform(d.current)
        );
    }

    function arcVisible(d) {
      return d.y1 <= 3 && d.y0 >= 1 && d.x1 > d.x0;
    }

    function labelVisible(d) {
      return (
        d.y1 <= 3 &&
        d.y0 >= 1 &&
        (d.y1 - d.y0) * (d.x1 - d.x0) > 0.03
      );
    }

    function labelTransform(d) {
      const x =
        (((d.x0 + d.x1) / 2) * 180) / Math.PI;
      const y = ((d.y0 + d.y1) / 2) * radius;
      return `rotate(${
      x - 90
    }) translate(${y},0) rotate(${
      x < 180 ? 0 : 180
    })`;
    }
  });

}());

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvcm1hdCA9IGQzLmZvcm1hdCgnLGQnKTtcbmNvbnN0IHdpZHRoID0gOTMyO1xuY29uc3QgcmFkaXVzID0gd2lkdGggLyA2O1xuXG5jb25zdCBhcmMgPSBkM1xuICAuYXJjKClcbiAgLnN0YXJ0QW5nbGUoKGQpID0+IGQueDApXG4gIC5lbmRBbmdsZSgoZCkgPT4gZC54MSlcbiAgLnBhZEFuZ2xlKChkKSA9PlxuICAgIE1hdGgubWluKChkLngxIC0gZC54MCkgLyAyLCAwLjAwNSlcbiAgKVxuICAucGFkUmFkaXVzKHJhZGl1cyAqIDEuNSlcbiAgLmlubmVyUmFkaXVzKChkKSA9PiBkLnkwICogcmFkaXVzKVxuICAub3V0ZXJSYWRpdXMoKGQpID0+XG4gICAgTWF0aC5tYXgoZC55MCAqIHJhZGl1cywgZC55MSAqIHJhZGl1cyAtIDEpXG4gICk7XG5cbmNvbnN0IHBhcnRpdGlvbiA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IHJvb3QgPSBkM1xuICAgIC5oaWVyYXJjaHkoZGF0YSlcbiAgICAuc3VtKChkKSA9PiBkLnNpemUpXG4gICAgLnNvcnQoKGEsIGIpID0+IGIudmFsdWUgLSBhLnZhbHVlKTtcbiAgcmV0dXJuIGQzXG4gICAgLnBhcnRpdGlvbigpXG4gICAgLnNpemUoWzIgKiBNYXRoLlBJLCByb290LmhlaWdodCArIDFdKShyb290KTtcbn07XG5cbmNvbnN0IHsgcmVxdWlyZSB9ID0gbmV3IG9ic2VydmFibGVocS5MaWJyYXJ5KCk7XG5cbnJlcXVpcmUoKSgnQG9ic2VydmFibGVocS9mbGFyZScpLnRoZW4oKGRhdGEpID0+IHtcbiAgY29uc29sZS5sb2coZGF0YSk7XG4gIGNvbnN0IHJvb3QgPSBwYXJ0aXRpb24oZGF0YSk7XG4gIGNvbnN0IGNvbG9yID0gZDNcbiAgICAuc2NhbGVPcmRpbmFsKClcbiAgICAucmFuZ2UoXG4gICAgICBkMy5xdWFudGl6ZShcbiAgICAgICAgZDMuaW50ZXJwb2xhdGVSYWluYm93LFxuICAgICAgICBkYXRhLmNoaWxkcmVuLmxlbmd0aCArIDFcbiAgICAgIClcbiAgICApO1xuXG4gIHJvb3QuZWFjaCgoZCkgPT4gKGQuY3VycmVudCA9IGQpKTtcblxuICBjb25zdCBzdmcgPSBkM1xuICAgIC5zZWxlY3QoJyNwYXJ0aXRpb25TVkcnKVxuICAgIC5zdHlsZSgnd2lkdGgnLCAnMTAwJScpXG4gICAgLnN0eWxlKCdoZWlnaHQnLCAnYXV0bycpXG4gICAgLnN0eWxlKCdmb250JywgJzEwcHggc2Fucy1zZXJpZicpO1xuXG4gIGNvbnN0IGcgPSBzdmdcbiAgICAuYXBwZW5kKCdnJylcbiAgICAuYXR0cihcbiAgICAgICd0cmFuc2Zvcm0nLFxuICAgICAgYHRyYW5zbGF0ZSgke3dpZHRoIC8gMn0sJHt3aWR0aCAvIDJ9KWBcbiAgICApO1xuXG4gIGNvbnN0IHBhdGggPSBnXG4gICAgLmFwcGVuZCgnZycpXG4gICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgLmRhdGEocm9vdC5kZXNjZW5kYW50cygpLnNsaWNlKDEpKVxuICAgIC5qb2luKCdwYXRoJylcbiAgICAuYXR0cignZmlsbCcsIChkKSA9PiB7XG4gICAgICB3aGlsZSAoZC5kZXB0aCA+IDEpIGQgPSBkLnBhcmVudDtcbiAgICAgIHJldHVybiBjb2xvcihkLmRhdGEubmFtZSk7XG4gICAgfSlcbiAgICAuYXR0cignZmlsbC1vcGFjaXR5JywgKGQpID0+XG4gICAgICBhcmNWaXNpYmxlKGQuY3VycmVudClcbiAgICAgICAgPyBkLmNoaWxkcmVuXG4gICAgICAgICAgPyAwLjZcbiAgICAgICAgICA6IDAuNFxuICAgICAgICA6IDBcbiAgICApXG4gICAgLmF0dHIoJ2QnLCAoZCkgPT4gYXJjKGQuY3VycmVudCkpO1xuXG4gIHBhdGhcbiAgICAuZmlsdGVyKChkKSA9PiBkLmNoaWxkcmVuKVxuICAgIC5zdHlsZSgnY3Vyc29yJywgJ3BvaW50ZXInKVxuICAgIC5vbignY2xpY2snLCBjbGlja2VkKTtcblxuICBwYXRoLmFwcGVuZCgndGl0bGUnKS50ZXh0KFxuICAgIChkKSA9PlxuICAgICAgYCR7ZFxuICAgICAgICAuYW5jZXN0b3JzKClcbiAgICAgICAgLm1hcCgoZCkgPT4gZC5kYXRhLm5hbWUpXG4gICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgLmpvaW4oJy8nKX1cXG4ke2Zvcm1hdChkLnZhbHVlKX1gXG4gICk7XG5cbiAgY29uc3QgbGFiZWwgPSBnXG4gICAgLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKVxuICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgIC5zdHlsZSgndXNlci1zZWxlY3QnLCAnbm9uZScpXG4gICAgLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgLmRhdGEocm9vdC5kZXNjZW5kYW50cygpLnNsaWNlKDEpKVxuICAgIC5qb2luKCd0ZXh0JylcbiAgICAuYXR0cignZHknLCAnMC4zNWVtJylcbiAgICAuYXR0cihcbiAgICAgICdmaWxsLW9wYWNpdHknLFxuICAgICAgKGQpID0+ICtsYWJlbFZpc2libGUoZC5jdXJyZW50KVxuICAgIClcbiAgICAuYXR0cigndHJhbnNmb3JtJywgKGQpID0+XG4gICAgICBsYWJlbFRyYW5zZm9ybShkLmN1cnJlbnQpXG4gICAgKVxuICAgIC50ZXh0KChkKSA9PiBkLmRhdGEubmFtZSk7XG5cbiAgY29uc3QgcGFyZW50ID0gZ1xuICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgLmRhdHVtKHJvb3QpXG4gICAgLmF0dHIoJ3InLCByYWRpdXMpXG4gICAgLmF0dHIoJ2ZpbGwnLCAnbm9uZScpXG4gICAgLmF0dHIoJ3BvaW50ZXItZXZlbnRzJywgJ2FsbCcpXG4gICAgLm9uKCdjbGljaycsIGNsaWNrZWQpO1xuXG4gIGZ1bmN0aW9uIGNsaWNrZWQocCkge1xuICAgIHBhcmVudC5kYXR1bShwLnBhcmVudCB8fCByb290KTtcblxuICAgIHJvb3QuZWFjaChcbiAgICAgIChkKSA9PlxuICAgICAgICAoZC50YXJnZXQgPSB7XG4gICAgICAgICAgeDA6XG4gICAgICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAoZC54MCAtIHAueDApIC8gKHAueDEgLSBwLngwKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApICpcbiAgICAgICAgICAgIDIgKlxuICAgICAgICAgICAgTWF0aC5QSSxcbiAgICAgICAgICB4MTpcbiAgICAgICAgICAgIE1hdGgubWF4KFxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgIChkLngxIC0gcC54MCkgLyAocC54MSAtIHAueDApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkgKlxuICAgICAgICAgICAgMiAqXG4gICAgICAgICAgICBNYXRoLlBJLFxuICAgICAgICAgIHkwOiBNYXRoLm1heCgwLCBkLnkwIC0gcC5kZXB0aCksXG4gICAgICAgICAgeTE6IE1hdGgubWF4KDAsIGQueTEgLSBwLmRlcHRoKSxcbiAgICAgICAgfSlcbiAgICApO1xuXG4gICAgY29uc3QgdCA9IGcudHJhbnNpdGlvbigpLmR1cmF0aW9uKDc1MCk7XG5cbiAgICAvLyBUcmFuc2l0aW9uIHRoZSBkYXRhIG9uIGFsbCBhcmNzLCBldmVuIHRoZSBvbmVzIHRoYXQgYXJlbsOiwoDCmXQgdmlzaWJsZSxcbiAgICAvLyBzbyB0aGF0IGlmIHRoaXMgdHJhbnNpdGlvbiBpcyBpbnRlcnJ1cHRlZCwgZW50ZXJpbmcgYXJjcyB3aWxsIHN0YXJ0XG4gICAgLy8gdGhlIG5leHQgdHJhbnNpdGlvbiBmcm9tIHRoZSBkZXNpcmVkIHBvc2l0aW9uLlxuICAgIHBhdGhcbiAgICAgIC50cmFuc2l0aW9uKHQpXG4gICAgICAudHdlZW4oJ2RhdGEnLCAoZCkgPT4ge1xuICAgICAgICBjb25zdCBpID0gZDMuaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZC5jdXJyZW50LFxuICAgICAgICAgIGQudGFyZ2V0XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiAodCkgPT4gKGQuY3VycmVudCA9IGkodCkpO1xuICAgICAgfSlcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICArdGhpcy5nZXRBdHRyaWJ1dGUoJ2ZpbGwtb3BhY2l0eScpIHx8XG4gICAgICAgICAgYXJjVmlzaWJsZShkLnRhcmdldClcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAuYXR0cignZmlsbC1vcGFjaXR5JywgKGQpID0+XG4gICAgICAgIGFyY1Zpc2libGUoZC50YXJnZXQpXG4gICAgICAgICAgPyBkLmNoaWxkcmVuXG4gICAgICAgICAgICA/IDAuNlxuICAgICAgICAgICAgOiAwLjRcbiAgICAgICAgICA6IDBcbiAgICAgIClcbiAgICAgIC5hdHRyVHdlZW4oJ2QnLCAoZCkgPT4gKCkgPT5cbiAgICAgICAgYXJjKGQuY3VycmVudClcbiAgICAgICk7XG5cbiAgICBsYWJlbFxuICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICt0aGlzLmdldEF0dHJpYnV0ZSgnZmlsbC1vcGFjaXR5JykgfHxcbiAgICAgICAgICBsYWJlbFZpc2libGUoZC50YXJnZXQpXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICAgLnRyYW5zaXRpb24odClcbiAgICAgIC5hdHRyKFxuICAgICAgICAnZmlsbC1vcGFjaXR5JyxcbiAgICAgICAgKGQpID0+ICtsYWJlbFZpc2libGUoZC50YXJnZXQpXG4gICAgICApXG4gICAgICAuYXR0clR3ZWVuKCd0cmFuc2Zvcm0nLCAoZCkgPT4gKCkgPT5cbiAgICAgICAgbGFiZWxUcmFuc2Zvcm0oZC5jdXJyZW50KVxuICAgICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFyY1Zpc2libGUoZCkge1xuICAgIHJldHVybiBkLnkxIDw9IDMgJiYgZC55MCA+PSAxICYmIGQueDEgPiBkLngwO1xuICB9XG5cbiAgZnVuY3Rpb24gbGFiZWxWaXNpYmxlKGQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgZC55MSA8PSAzICYmXG4gICAgICBkLnkwID49IDEgJiZcbiAgICAgIChkLnkxIC0gZC55MCkgKiAoZC54MSAtIGQueDApID4gMC4wM1xuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBsYWJlbFRyYW5zZm9ybShkKSB7XG4gICAgY29uc3QgeCA9XG4gICAgICAoKChkLngwICsgZC54MSkgLyAyKSAqIDE4MCkgLyBNYXRoLlBJO1xuICAgIGNvbnN0IHkgPSAoKGQueTAgKyBkLnkxKSAvIDIpICogcmFkaXVzO1xuICAgIHJldHVybiBgcm90YXRlKCR7XG4gICAgICB4IC0gOTBcbiAgICB9KSB0cmFuc2xhdGUoJHt5fSwwKSByb3RhdGUoJHtcbiAgICAgIHggPCAxODAgPyAwIDogMTgwXG4gICAgfSlgO1xuICB9XG59KTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7RUFBQSxNQUFNLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0VBQy9CLE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQztFQUNsQixNQUFNLE1BQU0sR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDO0FBQ3pCO0VBQ0EsTUFBTSxHQUFHLEdBQUcsRUFBRTtFQUNkLEdBQUcsR0FBRyxFQUFFO0VBQ1IsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQztFQUMxQixHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDO0VBQ3hCLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQztFQUNkLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxD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